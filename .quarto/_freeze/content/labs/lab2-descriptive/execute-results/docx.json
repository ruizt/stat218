{
  "hash": "ef6d61ba205bab3de740ddeb99f113e6",
  "result": {
    "markdown": "---\ntitle: \"Lab 2: Descriptive statistics\"\nauthor: \"STAT218\"\nauthor-title: \"Course activity\"\nexecute: \n  eval: true\nformat: \n  html:\n    toc: true\n  docx:\n    toc: false\nprefer-html: true\nembed-resources: true\n---\n\n\n\nBy now you have seen basic descriptive and graphical summaries. But what determines when some descriptive statistics are \"better\" to use than others?\n\nThis lab has two objectives:\n\n1.  Teach you to compute descriptive statistics and prepare graphical summaries for a single variable in R\n2.  Learn when and why to use certain descriptive statistics in place of others\n\nWe will focus on how outliers, or observations far from center, affect different descriptive measures. In statistics, the term for this is **robustness**: a robust statistic is less affected by the presence of outliers.\n\n### Accessing data\n\nFor this lab we'll use the FAMuSS dataset, as in lecture. This dataset is stored in the `oibiostat` package, which is an R package companion to the Vu and Harrington textbook.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load openintro biostat package\nlibrary(oibiostat)\n\n# load famuss data\ndata(famuss)\n\n# open data documentation\n?famuss\n```\n:::\n\n\n\nThe command above makes the dataset available in your environment as a data frame named `famuss` in which the columns represent variables and the rows represent observations. You can see the first few rows using `head()`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(famuss)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  ndrm.ch drm.ch    sex age      race height weight actn3.r577x    bmi\n1      40     40 Female  27 Caucasian   65.0    199          CC 33.112\n2      25      0   Male  36 Caucasian   71.7    189          CT 25.845\n3      40      0 Female  24 Caucasian   65.0    134          CT 22.296\n4     125      0 Female  40 Caucasian   68.0    171          CT 25.998\n5      40     20 Female  32 Caucasian   61.0    118          CC 22.293\n6      75      0 Female  24  Hispanic   62.2    120          CT 21.805\n```\n:::\n:::\n\n\n\nYou can extract a vector of the observations for any particular variable from the dataframe as follows: `famuss$[variable name]`. We will be performing calculations one column at a time, so you'll need to be able to extract and store a column as a new R object.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# extract the age variable\nfamuss$age\n\n# extract the bmi variable\nfamuss$bmi\n\n# store the age column as a vector\nage <- famuss$age\n```\n:::\n\n\n\n::: callout-note\n## Your turn\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# try it yourself: pick a variable to extract and store\n```\n:::\n\n\n:::\n\n### Graphical and tabular summaries\n\nOur most basic summaries are **frequency distributions**. For categorical variables, these are simply observation counts by category; for numeric variables, values must be *binned* and then tabulated.\n\nFor **categorical** variables (*i.e.,* character vectors or factors):\n\n-   `table()` will tabulate the number of occurrences of unique values in a vector\n\n-   *for a categorical variable,* `plot()` will create a barplot of the frequency distribution\n\nFor **numeric** variables:\n\n-   `hist()` will create a histogram\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## categorical summaries\nrace <- famuss$race\n\n# frequency distribution\ntable(race)\n\n# barplot of frequency distribution\nplot(race)\n```\n\n```{.r .cell-code}\n## quantitative summaries\nage <- famuss$age\n\n# histogram; 'breaks = ...' controls the binning\nhist(age, breaks = 20)\n```\n:::\n\n\n\nA quick word about functions. The inputs to functions are called *arguments*. The histogram function `hist()` requires a data argument, in this case `age`, to make the plot. However, the function also has several optional arguments that control things like labels, binning, axis limits, and so on. The `breaks = 20` part of the last command is an example of an optional argument. Most functions in R have optional arguments that control their behavior.\n\n::: callout-note\n## Your turn\n\nTry making a table, barplot, and histogram on your own with some of the other variables.\n\nWhen generating the histogram, adjust the number of bins using the `breaks = ...` argument. Experiment to see how the shape of the distribution appears at various binning resolutions; then pick a number of breaks that you feel reflects the data best.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# make a table of the frequency distribution of genotypes\n\n# make a barplot of the frequency distribution of genotypes\n\n# make a histogram of dominant arm change; play with the binning!\n```\n:::\n\n\n:::\n\n### Numerical summaries\n\nIn class we discussed several **descriptive statistics** for numeric variables.\n\n-   measures of center: mean, median\n\n-   percentiles: quartiles, min, max\n\nThese statistics are so commonly used that they have their own functions in R.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# the median gets its own function\nmedian(age)\n\n# ditto mean\nmean(age)\n\n# ... and minimum and maximum\nmin(age)\nmax(age)\n\n# 30th percentile of age (\"quantile\" is another term for percentile)\nquantile(age, probs = 0.3)\n\n# 30th *and* 60th percentile of age\nquantile(age, probs = c(0.3, 0.6))\n```\n:::\n\n\n\nThe five-number summary is the collection of the percentiles that give the minimum, quartiles, and maximum.\n\n::: callout-note\n## Your turn\n\nTry computing the five-number summary using a variable of your choice. Be sure you pick a numeric and not a categorical variable.\n\nPay attention to how the `probs = ...` argument to the `quantile()` function can be used to calculate multiple percentiles at once. Use this feature to calculate all five numbers in the five-number summary with one command.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# choose a *quantiative* variable from the dataset\n\n# compute the five-number summary using quantile()\n\n# compare the mean and the median. are they close?\n```\n:::\n\n\n:::\n\nAlternatively, the `summary()` command will do the work for you.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   17.0    20.0    22.0    24.4    27.0    40.0 \n```\n:::\n:::\n\n\n\n### Exploring robustness\n\nStatistics based on percentiles are in general insensitive to outliers, unless there's a large group of outlying observations. In this sense they are robust statistics.\n\nAn easy way to see this is to consider the median (middle value or 50th percentile). The maximum observation could be arbitrarily large without changing the middle value, so the median will be the same whether the largest value is 10 or 10,000. The mean, by contrast, does not share this property.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# make up some observations between 1 and 100\nx <- sample(1:100, size = 20)\nx\n\n# median of made up observations, plus 101\nmedian(c(x, 101))\n\n# median of made up observations, plus 1M\nmedian(c(x, 1000000))\n\n# same comparison, but with mean\nmean(c(x, 101))\nmean(c(x, 1000000))\n```\n:::\n\n\n\nSo in the presence of outliers, the median will capture the center of the distribution of values more accurately. In fact, even if the distribution is simply skewed, the mean will shift away from center.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# distribution of ages is right-skewed\nhist(age)\n\n# plot the mean and median on top of the histogram\nhist(age)\nabline(v = mean(age), col = 2)\nabline(v = median(age), col = 4)\n```\n\n::: {.cell-output-display}\n![](lab2-descriptive_files/figure-docx/skewness-1.png)\n:::\n:::\n\n\n\nThis difference is useful â€” the comparison of median and mean can indicate the direction and amount of skewness present.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# mean > median ---> right-skewed\nsummary(age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   17.0    20.0    22.0    24.4    27.0    40.0 \n```\n:::\n:::\n\n\n\n::: callout-note\n## Your turn\n\nCalculate the numeric summary for percent change in dominant arm strength and see if you can determine the direction and magnitude of skewness *based on this summary only*.\n\nThe amount of skewness is a bit subjective --- so just discuss and make a determination about whether the difference between median and mean seems sizeable.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# check the numeric summary for percent change in dominant arm strength\n# can you tell the direction of skewness?? does it seem very skewed??\n```\n:::\n\n\n:::\n\n\n\n::: {.cell}\n\n:::",
    "supporting": [
      "lab2-descriptive_files/figure-docx"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}