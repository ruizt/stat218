{
  "hash": "6cc5c51ebd6010f85f622c33bfabcfad",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Bivariate summaries\"\nsubtitle: \"Quantitative and graphical techniques for summarizing two variables\"\nformat: \n  revealjs:\n    logo: img/poly-logo-2.jpg\n    footer: \"STAT218\"\n    smaller: true\n    mermaid:\n      theme: neutral\nexecute: \n  echo: false\n  warning: false\n  message: false\n---\n\n::: {.cell}\n\n:::\n\n\n## Today's agenda\n\n1. Reading quiz\n2. Loose end: robustness\n3. Bivariate numeric and graphical summaries\n4. Lab: bivariate graphics in R\n\n## Robustness\n\n> Percentile-based measures of location and spread are less sensitive to outliers\n\nConsider adding an observation of 94 to our 12 ages from last time. This is an outlier.\n\n::: columns\n::: {.column width=\"60%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# append an outlier\nages_add <- c(ages, 94)\n\n# means\nc(original = mean(ages), with.outlier = mean(ages_add))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    original with.outlier \n    24.00000     29.38462 \n```\n\n\n:::\n\n```{.r .cell-code}\n# medians\nc(original = median(ages), with.outlier = median(ages_add))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    original with.outlier \n        23.5         25.0 \n```\n\n\n:::\n\n```{.r .cell-code}\n# IQR\nc(original = IQR(ages), with.outlier = IQR(ages_add))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    original with.outlier \n         8.5          9.0 \n```\n\n\n:::\n\n```{.r .cell-code}\n# SD\nc(original = sd(ages), with.outlier = sd(ages_add))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    original with.outlier \n    5.526794    20.122701 \n```\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"40%\"}\nThe effect of this outlier on each statistic is:\n\n- mean increases by 22.44%\n- median increases by 6.38%\n- IQR increases by 5.88%\n- SD increases by 264.09%\n\n**Robustness** refers to sensitivity to outliers. Mean and SD are less robust than median and IQR.\n\n:::\n:::\n\n## Choosing appropriate measures\n\n> When outliers are present, use percentile-based measures; otherwise, use mean and standard deviation or variance\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-3-1.png){width=768}\n:::\n:::\n\n\n*Check your understanding: which measures are most appropriate for each variable above?*\n\n## Limitations of univariate summaries\n\n> Univariate summaries aim to capture the distribution of values of a single variable.\n\n::: columns\n::: {.column width=\"70%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-4-1.png){width=768}\n:::\n:::\n\n:::\n\n::: {.column width=\"30%\"}\n-   both unimodal, no obvious outliers\n-   heights symmetric\n-   weights right-skewed\n-   but these observations actually come in *pairs*\n:::\n:::\n\nUnivariate summaries don't reflect how the variables might be related.\n\n## Bivariate summaries\n\n> Bivariate summaries aim to capture a relationship between two variables.\n\n::: columns\n::: {.column width=\"60%\"}\nA simple example is a scatterplot:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-5-1.png){width=480}\n:::\n:::\n\n:::\n\n::: {.column width=\"40%\"}\nEach point represents a pair of values $(h, w)$ for one study participant.\n\n-   Reveals a relationship: taller participants tend to be heavier\n-   But no longer shows individual distributions clearly\n\nNotice, though, that the marginal means (dashed red lines) still capture the center well.\n:::\n:::\n\n## Summary types\n\n> Bivariate summary techniques differ depending on the data types of the variables.\n\n| Question                                                                                                   | Comparison  type            |\n|------------------------------------------------------------------------------------------------------------|-------------------------|\n| Did genotype frequencies differ by race or sex among study participants?                                   | categorical/categorical |\n| Were differential changes in arm strength observed according to genotype?                                  | numeric/categorical     |\n| Did change in arm strength appear related in any way to body size among study participants?                | numeric/numeric         |\n| Did study participants experience similar or different changes in arm strength depending on arm dominance? | *??*                    |\n\n## Categorical/categorical\n\n<!-- *Did genotype frequencies differ by sex among study participants?* -->\n\nA **contingency table** is a bivariate tabular summary of two categorical variables; it shows the frequency of each pair of values. Usually the marginal totals are also shown.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n--------------------------------------\n   &nbsp;     CC    CT    TT    total \n------------ ----- ----- ----- -------\n **Female**   106   149   98     353  \n\n  **Male**    67    112   63     242  \n\n **total**    173   261   161    595  \n--------------------------------------\n\n\n:::\n:::\n\n\nThere are multiple ways to convert to proportions by using different denominators, and these yield proportions with distinct interpretations:\n\n-   grand total -- frequency of genotype/sex combination\n-   row total -- genotype frequency by sex\n-   column total -- sex frequency by genotype\n\n## Categorical/categorical\n\n*Did genotype frequencies differ by sex among study participants?*\n\nFor this question, the **row totals** should be used to convert to proportions.\n\n::: columns\n::: {.column width=\"50%\"}\nAs a table:\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n-----------------------------------------------\n   &nbsp;       CC       CT       TT     total \n------------ -------- -------- -------- -------\n **Female**   0.3003   0.4221   0.2776     1   \n\n  **Male**    0.2769   0.4628   0.2603     1   \n-----------------------------------------------\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\nAs a stacked bar plot:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-8-1.png){width=432}\n:::\n:::\n\n:::\n:::\n\nThe proportions are quite close, suggesting minimal sex differences.\n\n## Categorical/categorical\n\n*Did sex frequencies differ by genotype among study participants?*\n\nFor this question, the **column totals** should be used to compute proportions.\n\n::: columns\n::: {.column width=\"50%\"}\nAs a table:\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n---------------------------------------\n   &nbsp;       CC       CT       TT   \n------------ -------- -------- --------\n **Female**   0.6127   0.5709   0.6087 \n\n  **Male**    0.3873   0.4291   0.3913 \n\n **total**      1        1        1    \n---------------------------------------\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\nAs a stacked bar plot:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-10-1.png){width=480}\n:::\n:::\n\n:::\n:::\n\nThe proportions are close, suggesting minimal genotype differences.\n\n## Numeric/categorical\n\nSide-by-side boxplots are usually a good option. Avoid stacked histograms.\n\n*Were differential changes in arm strength observed according to genotype?*\n\n::: columns\n::: {.column width=\"80%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-11-1.png){width=768}\n:::\n:::\n\n:::\n\n::: {.column width=\"20%\"}\nLook for differences:\n\n-   location shift\n-   spread\n-   center\n\n*What do you think? Any notable relationships?*\n:::\n:::\n\n## Numeric/numeric\n\n*Did change in arm strength appear related in any way to body size among study participants?*\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\nPairwise scatterplots indicate no apparent relationships.\n\n## Interpreting scatterplots\n\n> Scatterplots show the presence or absence of an **association**.\n\n::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-13-1.png){width=480}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\nIf there is an association (*i.e.,* discernible pattern), it can be:\n\n- linear or nonlinear\n\n    + linear if scatter roughly follows a straight line, nonlinear otherwise\n    \n- positive or negative\n\n    + positive if scatter is increasing from left to right, negative otherwise\n\nThe plot at left is an example of a positive and (slightly) nonlinear relationship.\n:::\n\n:::\n\n## Practice interpreting scatterplots\n\n![](img/hw2-vh1-36.png)\n\n\n## Correlation\n\nIn addition to graphical techniques, for numeric/numeric comparisons, there are also quantiative measures of relationship.\n\n::: columns\n::: {.column width=\"60%\"}\n![](img/correlations.png){width=\"600\"}\n:::\n\n::: {.column width=\"40%\"}\n**Correlation** measures the strength of linear relationship, and is defined as: $$r_{xy} = \\frac{1}{n - 1}\\frac{\\sum_i (x_i - \\bar{x})(y_i - \\bar{y})}{s_x s_y}$$\n\n-   $r \\rightarrow 1$: *positive* relationship\n-   $r \\rightarrow -1$: *negative* relationship\n-   $r \\rightarrow 0$: no relationship\n:::\n:::\n\n\n## Interpreting correlations\n\n*Did change in arm strength appear related in any way to body size among study participants?*\n\nHere are the correlations corresponding to the plots we checked earlier.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n--------------------------------------------\n   &nbsp;      height    weight      bmi    \n------------- --------- --------- ----------\n **drm.ch**    -0.1104   -0.1159   -0.07267 \n\n **ndrm.ch**   -0.265    -0.2529   -0.1436  \n--------------------------------------------\n\n\n:::\n:::\n\n\nSo there aren't any linear relationships here. A rule of thumb:\n\n-   $|r| < 0.3$: no relationship\n-   $0.3 \\leq |r| < 0.6$: weak to moderate relationship\n-   $0.6 \\leq |r| < 1$: moderate to strong relationship\n-   $|r| = 1$: either a mistake or not real data\n\n## Data transformations\n\nSometimes a simple transformation can reveal a linear relationship on an alternate scale.\n\n::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-15-1.png){width=384}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# correlation coefficient\ncor(height, weight)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5308787\n```\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-17-1.png){width=384}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# correlation coefficient\ncor(height, log(weight))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5609356\n```\n\n\n:::\n:::\n\n:::\n\n:::\n\n## Interpretation\n\n::: {.columns}\n\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](week3-bivariate_files/figure-revealjs/unnamed-chunk-19-1.png){width=432}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# correlation coefficient\ncor(height, log(weight))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5609356\n```\n\n\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\nApplying these rules of thumb:\n\n-   $|r| < 0.3$: minimal association\n-   $0.3 \\leq |r| < 0.6$: weak to moderate\n-   $0.6 \\leq |r| < 1$: moderate to strong\n\nAnd:\n\n- $r > 0$: positive association\n- $r < 0$: negative association\n\nThe interpretation is:\n\n*There is a moderately strong positive linear relationship between height and log weight.*\n:::\n:::\n",
    "supporting": [
      "week3-bivariate_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}